---
title: CCN-03 - Revertir Cambios
description: Control de rollback y reversi√≥n de cambios fallidos
---

## üéØ Objetivo del Control

Garantizar que todo cambio implementado pueda ser revertido de forma r√°pida y segura en caso de falla, minimizando el tiempo de interrupci√≥n del servicio.

## üìã Descripci√≥n

Este control establece capacidades de rollback para:
- Reversi√≥n r√°pida ante fallas
- Procedimientos documentados y probados
- Backups previos a cambios
- Estrategias de deployment seguras
- Comunicaci√≥n de rollback

## üõ°Ô∏è Controles Requeridos

### Plan de Rollback Obligatorio
- Procedimiento detallado paso a paso
- Tiempo estimado de reversi√≥n (RTO)
- Punto de recuperaci√≥n (RPO)
- Comandos espec√≠ficos de rollback
- Validaci√≥n post-rollback

### Backups Pre-Cambio
- Backup de configuraciones actuales
- Snapshot de bases de datos
- Versionado de c√≥digo (Git tags)
- Imagen de VM/contenedor anterior
- Documentaci√≥n de estado inicial

### Estrategias de Deployment
- **Blue-Green Deployment:** Dos ambientes id√©nticos, switch instant√°neo
- **Canary Deployment:** Rollout gradual con validaci√≥n
- **Rolling Deployment:** Actualizaci√≥n progresiva de instancias
- **Feature Flags:** Activaci√≥n/desactivaci√≥n sin deployment

### Triggers de Rollback
- Criterios claros de falla:
  - Error rate > X%
  - Latencia > SLA
  - Ca√≠da de disponibilidad
  - Vulnerabilidades cr√≠ticas detectadas
  - P√©rdida de funcionalidad core
- Decisi√≥n de rollback autorizada
- Proceso automatizado cuando sea posible

### Testing de Rollback
- Rollback probado en staging antes de producci√≥n
- Simulacros peri√≥dicos de rollback
- Tiempo de rollback medido
- Procedimiento validado funcionalmente

### Monitoreo Post-Cambio
- Monitoreo intensivo primeras 24-48h
- Alertas configuradas para m√©tricas clave
- Equipo en standby durante ventana cr√≠tica
- Dashboard en tiempo real

## üìä M√©tricas e Indicadores

- Porcentaje de cambios con rollback necesario
- Tiempo promedio de rollback (MTTR)
- √âxito de rollback (primera vez)
- Disponibilidad durante rollback
- Cambios con plan de rollback documentado (objetivo: 100%)

## üîó Herramientas Recomendadas

- **Deployment:** Kubernetes (Rollout), Helm, ArgoCD, Spinnaker
- **Infrastructure as Code:** Terraform (state management), Ansible
- **Backup:** Velero, Veeam, AWS Backup, Azure Backup
- **Feature Flags:** LaunchDarkly, Split.io, Unleash
- **Monitoring:** Datadog, New Relic, Prometheus, Grafana

## üìö Referencias

- [Pol√≠tica de Gesti√≥n de Cambios](/docs/kudo/politicas/politica-gestion-cambios)
- [Plan de Continuidad Operacional](/docs/kudo/politicas/plan-continuidad-operacional)
- [Plan de Recuperaci√≥n de Desastres](/docs/kudo/politicas/plan-recuperacion-desastres)
- [Estrategia de Migraci√≥n y Portabilidad](/docs/kudo/politicas/estrategia-migracion-portabilidad)
- ITIL 4 - Change Enablement
- Site Reliability Engineering (SRE) - Google

## ‚úÖ Checklist de Implementaci√≥n

- [ ] Plantilla de plan de rollback creada
- [ ] Estrategia de deployment definida (blue-green/canary)
- [ ] Backups autom√°ticos pre-cambio configurados
- [ ] Criterios de rollback documentados
- [ ] Procedimientos de rollback probados
- [ ] Feature flags implementadas para cambios cr√≠ticos
- [ ] Monitoreo post-cambio configurado
- [ ] Alertas de falla autom√°ticas
- [ ] Responsables de decisi√≥n de rollback definidos
- [ ] Simulacros de rollback programados
